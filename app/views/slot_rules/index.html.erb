<div class="slot-rules-container">
  <div class="slot-rules-scrollable">
    <%= render "form", slot_rule: @slot_rule %>

    <h3>Your Rules</h3>
    <% if @slot_rules.any? %>
      <div data-controller="popover">
        <% @slot_rules.each do |rule| %>
          <div class="slot-rule-item">
            <div class="slot-rule-content">
              <strong><%= rule.start_time.strftime("%H:%M") %>–<%= rule.end_time.strftime("%H:%M") %></strong>,
              <%= rule.weekdays.map(&:capitalize).join(", ") %>
            </div>

            <div class="slot-rule-actions">
              <button class="popover-toggle" data-popover-target="button" data-action="click->popover#toggle">✎</button>
              <div class="popover-menu hidden" data-popover-target="menu">
                <%= link_to "Edit", edit_slot_rule_path(rule), class: "menu-item" %>
                <%= button_to slot_rule_path(rule), method: :delete,
                      form: { data: { turbo_confirm: "Are you sure?" } },
                      class: "menu-item delete-button" do %>
                  Delete
                <% end %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    <% else %>
      <p>No slot rules defined.</p>
    <% end %>
  </div>
</div>
